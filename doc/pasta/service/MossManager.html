<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_09) on Wed Nov 12 15:10:57 EST 2014 -->
<title>MossManager</title>
<meta name="date" content="2014-11-12">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MossManager";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MossManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../pasta/service/HandMarkingManager.html" title="class in pasta.service"><span class="strong">Prev Class</span></a></li>
<li><a href="../../pasta/service/SubmissionManager.html" title="class in pasta.service"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?pasta/service/MossManager.html" target="_top">Frames</a></li>
<li><a href="MossManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">pasta.service</div>
<h2 title="Class MossManager" class="title">Class MossManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>pasta.service.MossManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>@Service(value="mossManager")
@Repository
public class <span class="strong">MossManager</span>
extends java.lang.Object</pre>
<div class="block">Moss manager.
 <p>
 Manages interaction between controller and data.
 This class works as an abstraction layer between the controller 
 and the underlying data models. This class contains the majority
 of the logic code dealing with objects and their interactions.
 
 Requires the moss scripts to be copied into the pasta folder
 (where all of the assessment and submission data is kept), in a 
 folder labeled "moss". Within that folder, there should be another 
 folder entitled "template" and within that there should be an ant
 script called "build.xml" which has a target called "run" and 
 also accepts two parameters. The first is "assessment" which is
 the assessment name, the second is "defaultLocation" which points
 to the folder which holds all of the student submissions.
 
 The manager assumes that once the script has executed, the URL
 of the moss results is written into "location.txt". This URL
 is then scraped for the required data.
 
 This manager does no caching.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>2014-01-24</dd>
<dt><span class="strong">Version:</span></dt>
  <dd>2.0</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Alex Radu</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private org.springframework.context.ApplicationContext</code></td>
<td class="colLast"><code><strong><a href="../../pasta/service/MossManager.html#context">context</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static org.apache.log4j.Logger</code></td>
<td class="colLast"><code><strong><a href="../../pasta/service/MossManager.html#logger">logger</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../pasta/service/MossManager.html#MossManager()">MossManager</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../pasta/service/MossManager.html#getMossList(java.lang.String)">getMossList</a></strong>(java.lang.String&nbsp;assessment)</code>
<div class="block">Get the list of moss results.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../pasta/domain/moss/MossResults.html" title="class in pasta.domain.moss">MossResults</a></code></td>
<td class="colLast"><code><strong><a href="../../pasta/service/MossManager.html#getMossRun(java.lang.String, java.lang.String)">getMossRun</a></strong>(java.lang.String&nbsp;assessment,
          java.lang.String&nbsp;date)</code>
<div class="block">Get the results of a moss execution</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../pasta/service/MossManager.html#runMoss(java.lang.String)">runMoss</a></strong>(java.lang.String&nbsp;assessment)</code>
<div class="block">Method to initiate the execution of a moss script</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="context">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>context</h4>
<pre>private&nbsp;org.springframework.context.ApplicationContext context</pre>
</li>
</ul>
<a name="logger">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>logger</h4>
<pre>public static final&nbsp;org.apache.log4j.Logger logger</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MossManager()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MossManager</h4>
<pre>public&nbsp;MossManager()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="runMoss(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runMoss</h4>
<pre>public&nbsp;void&nbsp;runMoss(java.lang.String&nbsp;assessment)</pre>
<div class="block">Method to initiate the execution of a moss script
 <p>
 <ol>
        <li>Copy the template moss into assessmentName/date</li>
        <li>Load up build.xml</li>
        <li>Set "assessment" and "defaultLocation" properties with the correct values.</li>
        <li>Execute target "run"</li>
        <li>Wait for script to upload files to the moss server and get back a response</li>
        <li>Read "location.txt" to get the URL that holds the moss results.</li>
        <li>Go to the URL specified and parse the page</li>
        <li>Store the similarity list to the file assessmentName/date.csv</li>
        <li>Delete the directory created in step 1.</li>
 </ol>
 
 <b>NOTE: Step 9 - the deletion of the folder - will not occur if there is an error in
 the process. If the folder remains, there was an error and it should contain
 sufficient information to debug any issues that have arisen.</b>
 
 If the system is set to use a proxy, this is where it's done.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>assessment</code> - </dd></dl>
</li>
</ul>
<a name="getMossRun(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMossRun</h4>
<pre>public&nbsp;<a href="../../pasta/domain/moss/MossResults.html" title="class in pasta.domain.moss">MossResults</a>&nbsp;getMossRun(java.lang.String&nbsp;assessment,
                     java.lang.String&nbsp;date)</pre>
<div class="block">Get the results of a moss execution
 <p>
 Read $ProjectLocation$/moss/$assessmentName$/$date$.csv and store
 it as a <a href="../../pasta/domain/moss/MossResults.html" title="class in pasta.domain.moss"><code>MossResults</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>assessment</code> - the short name (no whitespace) of the assessment</dd><dd><code>date</code> - the date (format yyyy-MM-dd'T'HH-mm-ss)</dd>
<dt><span class="strong">Returns:</span></dt><dd>the correct moss results (will never return null)</dd></dl>
</li>
</ul>
<a name="getMossList(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getMossList</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;getMossList(java.lang.String&nbsp;assessment)</pre>
<div class="block">Get the list of moss results.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>assessment</code> - the short name (no whitespace) of the assessment</dd>
<dt><span class="strong">Returns:</span></dt><dd>a map key: date (format yyyy-MM-dd'T'HH-mm-ss), value: date (format Date.toString())</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MossManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../pasta/service/HandMarkingManager.html" title="class in pasta.service"><span class="strong">Prev Class</span></a></li>
<li><a href="../../pasta/service/SubmissionManager.html" title="class in pasta.service"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?pasta/service/MossManager.html" target="_top">Frames</a></li>
<li><a href="MossManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
